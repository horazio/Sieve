#include <stdio.h>
#include <stdlib.h>
#include <math.h>
void print(char * nums, int len){
  int i = 0;
  printf("\n\n");
  while( i < len){
    printf("%d", nums[i]);
    i++;
  }
  printf("\n\n");
}


int sieveer(int target){
  //------------make seive-------------
  int len;
  if(target > 5000){
    len = 1.3 * target * log(target) + 10;
  }else{
    len = 1.15 * target * log(target); 
  }
  
  char * nums = calloc(target, 1);


  int point = 0;
  int pointy;
  int count = 0;
  int cap = sqrt(len);
  
  while(point <= len){
    pointy = point;
    if(nums[point] == 0){
      count++;
      if(count == target){
	return point + 2;
      }
    }
    if(point <= cap){
      while(pointy + point < len){
	pointy += point + 2;
	nums[pointy] = 1;
      }
    }
    point++;
  }

  printf("failed------------ :(");
  //print(nums, len);
  /*
  //------------count primes-------------

  point = 0;
  pointy = 0;
  while(point < target){
    pointy++;
    if(!nums[pointy]){
      point++;
      //printf("%d ", pointy);
    }
  }
  */
  return pointy;
}
